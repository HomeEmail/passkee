!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("passkee-listener",[],t):"object"==typeof exports?exports["passkee-listener"]=t():e["passkee-listener"]=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=157)}({0:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},1:function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},14:function(e,t,n){e.exports={default:n(34),__esModule:!0}},157:function(e,t,n){"use strict";n(158);var r,o=n(160);((r=o)&&r.__esModule?r:{default:r}).default.listen(),$Z("html").append("<div id='passkee-ifr-controller'>Psk</div>"),$Z("#passkee-ifr-controller").on("click",function(e){$Z("#passkee-ifr").toggleClass("hide")});var i=null,a=$Z("#passkee-ifr-controller").offset();$Z("#passkee-ifr-controller").on("mousedown",function(e){a=$Z("#passkee-ifr-controller").offset(),i={x:e.x-a.left,y:e.y-a.top},console.log(a,i)}),$Z(document).on("mousemove",function(e){i&&$Z("#passkee-ifr-controller").css({left:e.x-i.x,top:e.y-i.y})}),$Z(document).on("mouseup",function(e){i=null})},158:function(e,t,n){var r=n(159);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(7)("2670babb",r,!1,{})},159:function(e,t,n){(e.exports=n(0)(!1)).push([e.i,"#passkee-ifr{height:300px;width:100%;position:fixed;bottom:0;left:0;right:0;z-index:900000;border:none;transition:all .2s}#passkee-ifr.hide{bottom:-300px}#passkee-ifr-controller{user-select:none;display:inline-block;width:40px;height:40px;border-radius:20px;background-color:rgba(0,0,0,.8);position:fixed;left:calc(100% - 100px);top:50%;z-index:1000000;cursor:pointer;box-shadow:inset 0 0 0 3px hsla(0,0%,100%,.3),0 0 10px 5px rgba(0,0,0,.8);color:hsla(0,0%,100%,.8);line-height:40px;font-size:12px;text-align:center;text-shadow:0 0 3px hsla(0,0%,100%,.3)}",""])},160:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(161)),o=i(n(162));function i(e){return e&&e.__esModule?e:{default:e}}t.default={listen:function(){r.default.send("code-generate",{action:"append",type:"request",options:{from:"window",hash:window.location.hash,url:window.location.href,event:"popstate"}},"gui"),["click","change"].forEach(function(e){document.addEventListener(e,function(t){"passkee-ifr-controller"!==t.target.id&&($Z(t.target).parents().filter("#puppeteer-domkit-recorder").length||r.default.send("code-generate",{action:"append",type:"trigger",options:{from:"document",selector:(0,o.default)(t.target),tagName:t.target.tagName,type:t.target.type,name:t.target.name,value:$Z(t.target).val(),event:e}},"gui"))},!0)}),["popstate"].forEach(function(e){window.addEventListener(e,function(t){console.log("[ 'popstate' ]",t),setTimeout(function(){r.default.send("code-generate",{action:"append",type:"request",options:{from:"window",hash:window.location.hash,url:window.location.href,event:e}},"gui")},0)},!0)})}}},161:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(14),i=(r=o)&&r.__esModule?r:{default:r};t.default={send:function(e,t,n){var r=(0,i.default)({command:e,body:t,from:"listener",target:n});console.warn("[PASSKEE-COMMAND]",r)}}},162:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a,u,s,l=n(163);function c(e,t,n){for(var r=null,o=[],i=e,s=0,c=function(){var e,c=m(function(e){var t=e.getAttribute("id");if(t&&u.idName(t))return{name:"#"+l(t,{isIdentifier:!0}),penalty:0};return null}(i))||m.apply(void 0,(e=i,Array.from(e.classList).filter(u.className).map(function(e){return{name:"."+l(e,{isIdentifier:!0}),penalty:1}})))||m(function(e){var t=e.tagName.toLowerCase();if(u.tagName(t))return{name:t,penalty:2};return null}(i))||[{name:"*",penalty:3}],p=function(e){var t=e.parentNode;if(!t)return null;var n=t.firstChild;if(!n)return null;var r=0;for(;n&&(n.nodeType===Node.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling;return r}(i);if(t===a.All)p&&(c=c.concat(c.filter(g).map(function(e){return v(e,p)})));else if(t===a.Two)c=c.slice(0,1),p&&(c=c.concat(c.filter(g).map(function(e){return v(e,p)})));else if(t===a.One){var d=(c=c.slice(0,1))[0];p&&g(d)&&(c=[v(d,p)])}for(var h=0,y=c;h<y.length;h++){(d=y[h]).level=s}if(o.push(c),o.length>=u.seedMinLength&&(r=f(o,n)))return"break";i=i.parentElement,s++};i&&i!==u.root.parentElement;){if("break"===c())break}return r||(r=f(o,n)),r}function f(e,t){var n=b(function e(t,n){var r,a,u;void 0===n&&(n=[]);return o(this,function(o){switch(o.label){case 0:if(!(t.length>0))return[3,5];r=0,a=t[0],o.label=1;case 1:return r<a.length?(u=a[r],[5,i(e(t.slice(1,t.length),n.concat(u)))]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[3,7];case 5:return[4,n];case 6:o.sent(),o.label=7;case 7:return[2]}})}(e));if(n.length>u.threshold)return t?t():null;for(var r=0,a=n;r<a.length;r++){var s=a[r];if(h(s))return s}return null}function p(e){for(var t=e[0],n=t.name,r=1;r<e.length;r++){var o=e[r].level||0;n=t.level===o-1?e[r].name+" > "+n:e[r].name+" "+n,t=e[r]}return n}function d(e){return e.map(function(e){return e.penalty}).reduce(function(e,t){return e+t},0)}function h(e){switch(s.querySelectorAll(p(e)).length){case 0:throw new Error("Can't select any node with this selector: "+p(e));case 1:return!0;default:return!1}}function v(e,t){return{name:e.name+":nth-child("+t+")",penalty:e.penalty+1}}function g(e){return"html"!==e.name&&!e.name.startsWith("#")}function m(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(y);return n.length>0?n:null}function y(e){return null!=e}function b(e){return Array.from(e).sort(function(e,t){return d(e)-d(t)})}!function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(a||(a={})),t.default=function(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return e.tagName.toLowerCase();var n={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},seedMinLength:1,optimizedMinLength:2,threshold:1e3};u=r({},n,t),s=function(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}(u.root,n);var l=c(e,a.All,function(){return c(e,a.Two,function(){return c(e,a.One)})});if(l){var f=b(function e(t,n){var r,a;return o(this,function(o){switch(o.label){case 0:if(!(t.length>2&&t.length>u.optimizedMinLength))return[3,5];r=1,o.label=1;case 1:return r<t.length-1?((a=t.slice()).splice(r,1),h(a)&&function(e,t){return s.querySelector(p(e))===t}(a,n)?[4,a]:[3,4]):[3,5];case 2:return o.sent(),[5,i(e(a,n))];case 3:o.sent(),o.label=4;case 4:return r++,[3,1];case 5:return[2]}})}(l,e));return f.length>0&&(l=f[0]),p(l)}throw new Error("Selector was not found.")}},163:function(e,t,n){"use strict";
/*! https://mths.be/cssesc v1.0.1 by @mathias */var r={}.hasOwnProperty,o=/[ -,\.\/;-@\[-\^`\{-~]/,i=/[ -,\.\/;-@\[\]\^`\{-~]/,a=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,u=function e(t,n){"single"!=(n=function(e,t){if(!e)return t;var n={};for(var o in t)n[o]=r.call(e,o)?e[o]:t[o];return n}(n,e.options)).quotes&&"double"!=n.quotes&&(n.quotes="single");for(var u="double"==n.quotes?'"':"'",s=n.isIdentifier,l=t.charAt(0),c="",f=0,p=t.length;f<p;){var d=t.charAt(f++),h=d.charCodeAt(),v=void 0;if(h<32||h>126){if(h>=55296&&h<=56319&&f<p){var g=t.charCodeAt(f++);56320==(64512&g)?h=((1023&h)<<10)+(1023&g)+65536:f--}v="\\"+h.toString(16).toUpperCase()+" "}else v=n.escapeEverything?o.test(d)?"\\"+d:"\\"+h.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B:]/.test(d)?s||":"!=d?"\\"+h.toString(16).toUpperCase()+" ":d:"\\"==d||!s&&('"'==d&&u==d||"'"==d&&u==d)||s&&i.test(d)?"\\"+d:d;c+=v}return s&&(/^_/.test(c)?c="\\_"+c.slice(1):/^-[-\d]/.test(c)?c="\\-"+c.slice(1):/\d/.test(l)&&(c="\\3"+l+" "+c.slice(1))),c=c.replace(a,function(e,t,n){return t&&t.length%2?e:(t||"")+n}),!s&&n.wrap?u+c+u:c};u.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},u.version="1.0.1",e.exports=u},34:function(e,t,n){var r=n(1),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},41:function(e,t){e.exports=function(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],u={id:e+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(u):n.push(r[a]={id:a,parts:[u]})}return n}},7:function(e,t,n){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o=n(41),i={},a=r&&(document.head||document.getElementsByTagName("head")[0]),u=null,s=0,l=!1,c=function(){},f=null,p="data-vue-ssr-id",d="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e){for(var t=0;t<e.length;t++){var n=e[t],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(g(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(g(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function g(e){var t,n,r=document.querySelector("style["+p+'~="'+e.id+'"]');if(r){if(l)return c;r.parentNode.removeChild(r)}if(d){var o=s++;r=u||(u=v()),t=b.bind(null,r,o,!1),n=b.bind(null,r,o,!0)}else r=v(),t=function(e,t){var n=t.css,r=t.media,o=t.sourceMap;r&&e.setAttribute("media",r);f.ssrId&&e.setAttribute(p,t.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}e.exports=function(e,t,n,r){l=n,f=r||{};var a=o(e,t);return h(a),function(t){for(var n=[],r=0;r<a.length;r++){var u=a[r];(s=i[u.id]).refs--,n.push(s)}t?h(a=o(e,t)):a=[];for(r=0;r<n.length;r++){var s;if(0===(s=n[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var m,y=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join("\n")});function b(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}}})});